generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model category {
  id          Int    @id @default(autoincrement())
  name        String
  description String
  event       event?
}

model event {
  id                String          @id
  name              String
  description       String
  short_description String
  date              DateTime
  location          String
  address           String
  price             Decimal         @db.Decimal(10, 2)
  id_category       Int             @unique(map: "Event_id_category_key")
  createdAt         DateTime        @default(now())
  updatedAt         DateTime
  category          category        @relation(fields: [id_category], references: [id], map: "Event_id_category_fkey")
  eventimages       eventimages[]
  eventpromotion    eventpromotion?
}

model eventimages {
  url      String @id
  id_event String
  event    event  @relation(fields: [id_event], references: [id], map: "EventImages_id_event_fkey")

  @@index([id_event], map: "EventImages_id_event_fkey")
}

model eventpromotion {
  id       Int     @id @default(autoincrement())
  price    Decimal @db.Decimal(10, 2)
  isActive Boolean
  id_event String  @unique(map: "EventPromotion_id_event_key")
  event    event   @relation(fields: [id_event], references: [id], map: "EventPromotion_id_event_fkey")
}

model user {
  id       Int    @id @default(autoincrement())
  email    String @unique(map: "User_email_key")
  password String
}
